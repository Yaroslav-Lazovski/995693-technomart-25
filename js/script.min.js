var linkFeedback = document.querySelector(".feedback-link"); if (linkFeedback) { var popupFeedback = document.querySelector(".modal-feedback"), close = popupFeedback.querySelector(".close"), form = popupFeedback.querySelector(".feedback-form"), login = popupFeedback.querySelector("[name = login]"), email = popupFeedback.querySelector("[name = email]"), isStorageSupport = !0, storage = ""; try { storage = localStorage.getItem("login") } catch (e) { isStorageSupport = !1 } linkFeedback.addEventListener("click", function (e) { e.preventDefault(), popupFeedback.classList.add("modal-show"), storage ? (login.value = storage, email.focus()) : login.focus() }), close.addEventListener("click", function (e) { e.preventDefault(), popupFeedback.classList.remove("modal-show"), popupFeedback.classList.remove("modal-error") }), form.addEventListener("submit", function (e) { login.value && email.value ? isStorageSupport && localStorage.setItem("login", login.value) : (e.preventDefault(), popupFeedback.classList.remove("modal-error"), popupFeedback.offsetWidth = popupFeedback.offsetWidth, popupFeedback.classList.add("modal-error")) }), window.addEventListener("keydown", function (e) { 27 === e.keyCode && (e.preventDefault(), popupFeedback.classList.contains("modal-show") && (popupFeedback.classList.remove("modal-show"), popupFeedback.classList.remove("modal-error"))) }) } var linkMap = document.querySelector(".link-map"); if (linkMap) { var popupMap = document.querySelector(".modal-map"), closeMap = popupMap.querySelector(".close-map"); linkMap.addEventListener("click", function (e) { e.preventDefault(), popupMap.classList.add("modal-show") }), closeMap.addEventListener("click", function (e) { e.preventDefault(), popupMap.classList.remove("modal-show") }), window.addEventListener("keydown", function (e) { 27 === e.keyCode && (e.preventDefault(), popupMap.classList.contains("modal-show") && popupMap.classList.remove("modal-show")) }) } var linkBookmark = document.querySelectorAll(".bookmark"); if (linkBookmark) for (var popupCart = document.querySelector(".modal-cart"), closeCart = document.querySelector(".close-cart"), i = 0; i < linkBookmark.length; i++)linkBookmark[i].onclick = function (e) { e.preventDefault(), popupCart.classList.add("modal-show") }, closeCart.addEventListener("click", function (e) { e.preventDefault(), popupCart.classList.remove("modal-show") }), window.addEventListener("keydown", function (e) { 27 === e.keyCode && (e.preventDefault(), popupCart.classList.contains("modal-show") && popupCart.classList.remove("modal-show")) });